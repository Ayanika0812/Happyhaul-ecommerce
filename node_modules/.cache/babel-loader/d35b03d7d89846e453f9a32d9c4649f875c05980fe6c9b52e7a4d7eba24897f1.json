{"ast":null,"code":"import React,{createContext,useState,useEffect}from\"react\";import all_product from'../Components/Assets/all_product';import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let index=0;index<all_product.length;index++){cart[all_product[index].id]=0;}return cart;};const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());const addToCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:(prev[itemId]||0)+1}));};const removeFromCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:Math.max((prev[itemId]||0)-1,0)}));};const getTotalCartAmount=()=>{let totalAmount=0;for(const item in cartItems){if(cartItems[item]>0){let itemInfo=all_product.find(product=>product.id===Number(item));totalAmount+=itemInfo.new_price*cartItems[item];}}return totalAmount;};const getTotalCartItems=()=>{let totalItem=0;for(const item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};useEffect(()=>{console.log(\"Updated Cart:\",cartItems);},[cartItems]);const contextValue={getTotalCartItems,getTotalCartAmount,all_product,cartItems,addToCart,removeFromCart};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","all_product","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","id","ShopContextProvider","props","cartItems","setCartItems","addToCart","itemId","prev","removeFromCart","Math","max","getTotalCartAmount","totalAmount","item","itemInfo","find","product","Number","new_price","getTotalCartItems","totalItem","console","log","contextValue","Provider","value","children"],"sources":["C:/Ecommerce/src/Context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport all_product from '../Components/Assets/all_product';\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = () => {\r\n  let cart = {};\r\n  for (let index = 0; index < all_product.length; index++) {  \r\n    cart[all_product[index].id] = 0;  \r\n  }\r\n  return cart;\r\n};\r\n\r\nconst ShopContextProvider = (props) => {\r\n  const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => ({\r\n      ...prev,\r\n      [itemId]: (prev[itemId] || 0) + 1,  \r\n    }));\r\n  };\r\n\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => ({\r\n      ...prev,\r\n      [itemId]: Math.max((prev[itemId] || 0) - 1, 0), \r\n    }));\r\n  };\r\n\r\n    const getTotalCartAmount = () => {\r\n        let totalAmount = 0;\r\n        for(const item in cartItems)\r\n        {\r\n            if(cartItems[item]>0)\r\n            {\r\n                let itemInfo = all_product.find((product)=>product.id===Number(item))\r\n                totalAmount += itemInfo.new_price * cartItems[item];\r\n            }\r\n        }\r\n        return totalAmount;\r\n    }\r\n\r\n    const getTotalCartItems = () =>{\r\n        let totalItem = 0;\r\n        for(const item in cartItems)\r\n        {\r\n            if(cartItems[item]>0)\r\n            {\r\n                totalItem += cartItems[item];\r\n            }\r\n        }\r\n        return totalItem;\r\n    }\r\n\r\n  useEffect(() => {\r\n    console.log(\"Updated Cart:\", cartItems);\r\n  }, [cartItems]);  \r\n\r\n  const contextValue = {getTotalCartItems, getTotalCartAmount,all_product, cartItems, addToCart, removeFromCart };\r\n\r\n  return <ShopContext.Provider value={contextValue}>{props.children}</ShopContext.Provider>;\r\n};\r\n\r\nexport default ShopContextProvider;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,MAAO,CAAAC,WAAW,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,MAAO,MAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGN,WAAW,CAACO,MAAM,CAAED,KAAK,EAAE,CAAE,CACvDD,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC,CAACE,EAAE,CAAC,CAAG,CAAC,CACjC,CACA,MAAO,CAAAH,IAAI,CACb,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAIC,KAAK,EAAK,CACrC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAACM,cAAc,CAAC,CAAC,CAAC,CAE5D,KAAM,CAAAS,SAAS,CAAIC,MAAM,EAAK,CAC5BF,YAAY,CAAEG,IAAI,GAAM,CACtB,GAAGA,IAAI,CACP,CAACD,MAAM,EAAG,CAACC,IAAI,CAACD,MAAM,CAAC,EAAI,CAAC,EAAI,CAClC,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIF,MAAM,EAAK,CACjCF,YAAY,CAAEG,IAAI,GAAM,CACtB,GAAGA,IAAI,CACP,CAACD,MAAM,EAAGG,IAAI,CAACC,GAAG,CAAC,CAACH,IAAI,CAACD,MAAM,CAAC,EAAI,CAAC,EAAI,CAAC,CAAE,CAAC,CAC/C,CAAC,CAAC,CAAC,CACL,CAAC,CAEC,KAAM,CAAAK,kBAAkB,CAAGA,CAAA,GAAM,CAC7B,GAAI,CAAAC,WAAW,CAAG,CAAC,CACnB,IAAI,KAAM,CAAAC,IAAI,GAAI,CAAAV,SAAS,CAC3B,CACI,GAAGA,SAAS,CAACU,IAAI,CAAC,CAAC,CAAC,CACpB,CACI,GAAI,CAAAC,QAAQ,CAAGtB,WAAW,CAACuB,IAAI,CAAEC,OAAO,EAAGA,OAAO,CAAChB,EAAE,GAAGiB,MAAM,CAACJ,IAAI,CAAC,CAAC,CACrED,WAAW,EAAIE,QAAQ,CAACI,SAAS,CAAGf,SAAS,CAACU,IAAI,CAAC,CACvD,CACJ,CACA,MAAO,CAAAD,WAAW,CACtB,CAAC,CAED,KAAM,CAAAO,iBAAiB,CAAGA,CAAA,GAAK,CAC3B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAI,KAAM,CAAAP,IAAI,GAAI,CAAAV,SAAS,CAC3B,CACI,GAAGA,SAAS,CAACU,IAAI,CAAC,CAAC,CAAC,CACpB,CACIO,SAAS,EAAIjB,SAAS,CAACU,IAAI,CAAC,CAChC,CACJ,CACA,MAAO,CAAAO,SAAS,CACpB,CAAC,CAEH7B,SAAS,CAAC,IAAM,CACd8B,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEnB,SAAS,CAAC,CACzC,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAoB,YAAY,CAAG,CAACJ,iBAAiB,CAAER,kBAAkB,CAACnB,WAAW,CAAEW,SAAS,CAAEE,SAAS,CAAEG,cAAe,CAAC,CAE/G,mBAAOd,IAAA,CAACC,WAAW,CAAC6B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CAAExB,KAAK,CAACwB,QAAQ,CAAuB,CAAC,CAC3F,CAAC,CAED,cAAe,CAAAzB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}